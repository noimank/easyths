# EasyTHS

**åŒèŠ±é¡ºäº¤æ˜“è‡ªåŠ¨åŒ–ç³»ç»Ÿ** - åŸºäº Python çš„åŒèŠ±é¡ºå®¢æˆ·ç«¯è‡ªåŠ¨åŒ–äº¤æ˜“å·¥å…·ã€‚

## é€‚ç”¨äººç¾¤

å¦‚æœä½ éœ€è¦ï¼š

- ğŸ”¸ **è‚¡ç¥¨äº¤æ˜“ API** - ä¸ºé‡åŒ–ç­–ç•¥æä¾›æ ‡å‡†åŒ–çš„äº¤æ˜“æ¥å£
- ğŸ”¸ **ä½æˆæœ¬æ–¹æ¡ˆ** - æ— éœ€è´­ä¹°æ˜‚è´µçš„ QT/miniQTD ç­‰ä¸“ä¸šäº¤æ˜“ç»ˆç«¯
- ğŸ”¸ **æœ¬åœ°åŒ–éƒ¨ç½²** - æ•°æ®å®Œå…¨å¯æ§ï¼Œé€‚åˆå¯¹éšç§æœ‰è¦æ±‚çš„ä¸ªäººå¼€å‘è€…
- ğŸ”¸ **å¿«é€ŸéªŒè¯** - å¿«é€Ÿæ­å»ºäº¤æ˜“åŸå‹ï¼ŒéªŒè¯ç­–ç•¥æƒ³æ³•

EasyTHS æ˜¯ä¸ºä½ é‡èº«å®šåˆ¶çš„è½»é‡çº§è§£å†³æ–¹æ¡ˆã€‚

## ç‰¹æ€§

### æ ¸å¿ƒèƒ½åŠ›

- ğŸš€ **æé€Ÿäº¤æ˜“** - æ·±åº¦ä¼˜åŒ–è‡ªåŠ¨åŒ–æµç¨‹ï¼Œå‹æ¦¨æ€§èƒ½æé™ï¼Œæä¾›æé€Ÿç¨³å®šçš„äº¤æ˜“ä½“éªŒ
- ğŸ–¥ï¸ **GUI è‡ªåŠ¨åŒ–** - åŸºäº pywinauto çš„ Windows GUI è‡ªåŠ¨åŒ–
- ğŸŒ **RESTful API** - FastAPI æä¾›çš„é«˜æ€§èƒ½ HTTP API æ¥å£
- ğŸ“Š **æ•°æ®ç®¡ç†** - æ”¯æŒäº¤æ˜“æ•°æ®çš„è®°å½•å’ŒæŸ¥è¯¢

### ç”Ÿäº§çº§å®‰å…¨

- ğŸ”‘ **API Key è®¤è¯** - æ”¯æŒ API Key èº«ä»½éªŒè¯ï¼Œé˜²æ­¢æœªæˆæƒè®¿é—®
- ğŸ›¡ï¸ **IP ç™½åå•** - ä¸¥æ ¼çš„ IP ç™½åå•æ§åˆ¶ï¼Œé™åˆ¶è®¿é—®æ¥æº
- ğŸŒ **CORS è·¨åŸŸ** - å¯é…ç½®çš„è·¨åŸŸç­–ç•¥ï¼Œçµæ´»æ§åˆ¶è®¿é—®æƒé™
- ğŸ”’ **æœ¬åœ°è¿è¡Œ** - æ•°æ®å®Œå…¨æœ¬åœ°åŒ–ï¼Œä¸ä¸Šä¼ ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡å™¨

### ç›¸æ¯” EasyTrader

[EasyTrader](https://github.com/shidenggui/easytrader) æ˜¯æ—©æœŸçš„åŒèŠ±é¡ºè‡ªåŠ¨åŒ–äº¤æ˜“é¡¹ç›®ï¼ŒEasyTHS åœ¨å…¶åŸºç¡€ä¸Šåšäº†å…¨é¢å‡çº§ï¼š

- âš¡ **æ›´å®Œæ•´çš„åŠŸèƒ½** - æ”¯æŒæ›´å…¨é¢çš„äº¤æ˜“æ“ä½œï¼Œè¦†ç›–æ›´å¤šä¸šåŠ¡åœºæ™¯
- ğŸš€ **é«˜å¹¶å‘æ”¯æŒ** - ä¼˜åŒ–çš„å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œé€‚åˆé«˜é¢‘äº¤æ˜“åœºæ™¯
- ğŸ¯ **æŒç»­ç»´æŠ¤** - æ´»è·ƒçš„å¼€å‘å’Œç»´æŠ¤ï¼Œå¿«é€Ÿå“åº”é—®é¢˜

## é¡¹ç›®æ¶æ„

### æ•´ä½“è®¾è®¡

EasyTHS é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œå°†ç³»ç»ŸèŒè´£æ¸…æ™°åˆ†ç¦»ï¼Œç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å®¢æˆ·ç«¯å±‚                         â”‚
â”‚  TradeClient - è¿œç¨‹è°ƒç”¨å®¢æˆ·ç«¯ (HTTP + Bearer Token)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API å±‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  FastAPI è·¯ç”±                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ system.py     - ç³»ç»Ÿç®¡ç†                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ operations.py - æ“ä½œæ‰§è¡Œ                        â”‚  â”‚
â”‚  â”‚  â””â”€ queue.py      - é˜Ÿåˆ—ç®¡ç†                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ä¸­é—´ä»¶                                            â”‚  â”‚
â”‚  â”‚  â”œâ”€ API Key è®¤è¯                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ IP ç™½åå•                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ é€Ÿç‡é™åˆ¶                                        â”‚  â”‚
â”‚  â”‚  â””â”€ è¯·æ±‚æ—¥å¿—                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ ¸å¿ƒå±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  OperationQueue - ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆåå°çº¿ç¨‹ä¸²è¡Œæ‰§è¡Œï¼‰       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TonghuashunAutomator - åŒèŠ±é¡º GUI è‡ªåŠ¨åŒ–           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  BaseOperation - æ“ä½œåŸºç±»ä¸æ’ä»¶æ³¨å†Œæœºåˆ¶               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æ“ä½œæ’ä»¶å±‚                          â”‚
â”‚  buy.py | sell.py | order_cancel.py | order_query.py    â”‚
â”‚  holding_query.py | funds_query.py | historical_...py   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å·¥å…·å±‚                             â”‚
â”‚  config.py | captcha_ocr.py | screen_capture.py         â”‚
â”‚  table_text_handel.py | logger.py                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒè®¾è®¡æ€æƒ³

#### 1. åŒæ­¥æ‰§è¡Œ + å¼‚æ­¥ API ä½“éªŒ

- **æ“ä½œå±‚**ï¼šæ‰€æœ‰ä¸šåŠ¡æ“ä½œé‡‡ç”¨åŒæ­¥å‡½æ•°å®ç°ï¼Œç®€åŒ–ä»£ç é€»è¾‘
- **é˜Ÿåˆ—å±‚**ï¼šåå°çº¿ç¨‹ä¸²è¡Œå¤„ç†æ‰€æœ‰æ“ä½œï¼Œä¿è¯çº¿ç¨‹å®‰å…¨
- **API å±‚**ï¼šå¼‚æ­¥æ¥å£è¿”å› operation_idï¼Œå®¢æˆ·ç«¯å¯è½®è¯¢æŸ¥è¯¢ç»“æœ

```
å®¢æˆ·ç«¯è¯·æ±‚ â†’ API ç«‹å³è¿”å› operation_id â†’ åå°é˜Ÿåˆ—ä¸²è¡Œæ‰§è¡Œ â†’ å®¢æˆ·ç«¯æŸ¥è¯¢ç»“æœ
```

#### 2. æ’ä»¶åŒ–æ“ä½œç³»ç»Ÿ

- **BaseOperation**ï¼šå®šä¹‰ç»Ÿä¸€çš„æ“ä½œæ¥å£ï¼ˆvalidateã€executeã€pre_executeã€post_executeï¼‰
- **OperationRegistry**ï¼šè‡ªåŠ¨æ‰«æå¹¶æ³¨å†Œ `operations/` ç›®å½•ä¸‹çš„æ‰€æœ‰æ“ä½œæ’ä»¶
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šå®Œæ•´çš„å‚æ•°éªŒè¯ â†’ å‰ç½®æ£€æŸ¥ â†’ æ ¸å¿ƒæ‰§è¡Œ â†’ åç½®å¤„ç†æµç¨‹

```python
class BaseOperation(ABC):
    @abstractmethod
    def validate(self, params) -> bool:      # å‚æ•°éªŒè¯
        pass

    @abstractmethod
    def execute(self, params) -> OperationResult:  # æ ¸å¿ƒæ“ä½œ
        pass

    def run(self, params) -> OperationResult:  # å®Œæ•´æµç¨‹
        # 1. validate()
        # 2. pre_execute()
        # 3. execute()
        # 4. post_execute()
```

#### 3. ä¼˜å…ˆçº§é˜Ÿåˆ—è°ƒåº¦

- **PriorityQueue**ï¼šåŸºäºä¼˜å…ˆçº§çš„ä»»åŠ¡è°ƒåº¦ï¼ˆæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼‰
- **ä¸²è¡Œæ‰§è¡Œ**ï¼šå•ä¸€åå°çº¿ç¨‹ä¿è¯ GUI æ“ä½œçš„çº¿ç¨‹å®‰å…¨
- **çŠ¶æ€è¿½è¸ª**ï¼šQUEUED â†’ RUNNING â†’ COMPLETED/FAILED

```python
# æäº¤æ“ä½œ
operation_id = client.buy("600000", 10.50, 100, priority=5)

# æŸ¥è¯¢çŠ¶æ€
status = client.get_operation_status(operation_id)

# è·å–ç»“æœï¼ˆé˜»å¡ç­‰å¾…ï¼‰
result = client.get_operation_result(operation_id, timeout=60)
```

#### 4. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

- **æ§ä»¶æŸ¥æ‰¾ä¼˜åŒ–**ï¼šç›´æ¥éå†å­æ§ä»¶æ›¿ä»£ `child_window()`ï¼Œæ€§èƒ½æå‡æ•°å€
- **èœå•åˆ‡æ¢ä¼˜åŒ–**ï¼šç²¾ç¡®å®šä½ Tree æ§ä»¶ï¼Œä» 2.2s é™è‡³ 0.7s
- **Wrapper å¯¹è±¡å¤ç”¨**ï¼šå‡å°‘æ§ä»¶å®ä¾‹åŒ–å¼€é”€ï¼ŒèŠ‚çœ 0.3s+

```python
# ç¦æ­¢ä½¿ç”¨ child_window()
# âŒ æ…¢é€Ÿæ–¹å¼
control = parent.child_window(class_name="Edit", auto_id="2404")

# âœ… å¿«é€Ÿæ–¹å¼
control = self.get_control_with_children(
    parent, class_name="Edit", auto_id="2404"
)
```

#### 5. å¼¹çª—æ™ºèƒ½å¤„ç†

- **è‡ªåŠ¨æ£€æµ‹**ï¼šè¯†åˆ«å¤šç§å¼¹çª—ç±»å‹ï¼ˆé£é™©æµ‹è¯„ã€éªŒè¯ç ã€å¤±è´¥æç¤ºç­‰ï¼‰
- **æ‰¹é‡å…³é—­**ï¼š`close_pop_dialog()` è‡ªåŠ¨æ¸…ç†æ‰€æœ‰å¼¹çª—
- **éªŒè¯ç è¯†åˆ«**ï¼šé›†æˆ OCR æœåŠ¡è‡ªåŠ¨è¯†åˆ«éªŒè¯ç 

#### 6. å®‰å…¨æœºåˆ¶

- **API Key è®¤è¯**ï¼šBearer Token æ–¹å¼çš„ API å¯†é’¥éªŒè¯
- **IP ç™½åå•**ï¼šä¸¥æ ¼é™åˆ¶è®¿é—®æ¥æº
- **é€Ÿç‡é™åˆ¶**ï¼šé˜²æ­¢æ¥å£æ»¥ç”¨
- **æœ¬åœ°åŒ–éƒ¨ç½²**ï¼šæ‰€æœ‰æ•°æ®ä¿ç•™åœ¨æœ¬åœ°ï¼Œä¸ä¸Šä¼ ç¬¬ä¸‰æ–¹

### ç›®å½•ç»“æ„

```
easyths/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ main.py                      # æœåŠ¡å¯åŠ¨å…¥å£
â”œâ”€â”€ trade_client.py              # è¿œç¨‹è°ƒç”¨å®¢æˆ·ç«¯ (TradeClient SDK)
â”œâ”€â”€ api/                         # FastAPI æœåŠ¡ç«¯
â”‚   â”œâ”€â”€ app.py                   # FastAPI åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ routes/                  # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ system.py           # ç³»ç»Ÿç®¡ç†æ¥å£
â”‚   â”‚   â”œâ”€â”€ operations.py       # æ“ä½œæ‰§è¡Œæ¥å£
â”‚   â”‚   â””â”€â”€ queue.py            # é˜Ÿåˆ—ç®¡ç†æ¥å£
â”‚   â”œâ”€â”€ middleware/              # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ api_key_auth.py     # API Key è®¤è¯
â”‚   â”‚   â”œâ”€â”€ ip_whitelist.py     # IP ç™½åå•
â”‚   â”‚   â”œâ”€â”€ rate_limit.py       # é€Ÿç‡é™åˆ¶
â”‚   â”‚   â””â”€â”€ logging.py          # è¯·æ±‚æ—¥å¿—
â”‚   â””â”€â”€ dependencies/            # ä¾èµ–æ³¨å…¥
â”‚       â””â”€â”€ common.py
â”œâ”€â”€ core/                        # æ ¸å¿ƒç»„ä»¶
â”‚   â”œâ”€â”€ tonghuashun_automator.py # åŒèŠ±é¡ºè‡ªåŠ¨åŒ–å™¨ (pywinauto)
â”‚   â”œâ”€â”€ base_operation.py        # æ“ä½œåŸºç±»ä¸æ³¨å†Œè¡¨
â”‚   â””â”€â”€ operation_queue.py       # ä¼˜å…ˆçº§æ“ä½œé˜Ÿåˆ—
â”œâ”€â”€ operations/                  # æ“ä½œæ’ä»¶ (è‡ªåŠ¨å‘ç°)
â”‚   â”œâ”€â”€ buy.py                   # ä¹°å…¥è‚¡ç¥¨
â”‚   â”œâ”€â”€ sell.py                  # å–å‡ºè‚¡ç¥¨
â”‚   â”œâ”€â”€ condition_buy.py         # æ¡ä»¶ä¹°å…¥
â”‚   â”œâ”€â”€ stop_loss_profit.py      # æ­¢ç›ˆæ­¢æŸ
â”‚   â”œâ”€â”€ condition_order_query.py # æ¡ä»¶å•æŸ¥è¯¢
â”‚   â”œâ”€â”€ condition_order_cancel.py # æ¡ä»¶å•åˆ é™¤
â”‚   â”œâ”€â”€ order_cancel.py          # æ’¤å•
â”‚   â”œâ”€â”€ order_query.py           # æŸ¥å§”æ‰˜
â”‚   â”œâ”€â”€ holding_query.py         # æŸ¥æŒä»“
â”‚   â”œâ”€â”€ funds_query.py           # æŸ¥èµ„é‡‘
â”‚   â”œâ”€â”€ historical_commission_query.py  # æŸ¥å†å²æˆäº¤
â”‚   â”œâ”€â”€ reverse_repo_buy.py      # å›½å€ºé€†å›è´­è´­ä¹°
â”‚   â””â”€â”€ reverse_repo_query.py    # å›½å€ºé€†å›è´­æŸ¥è¯¢
â”œâ”€â”€ models/                      # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ operations.py            # æ“ä½œæ•°æ®æ¨¡å‹ (Pydantic)
â”œâ”€â”€ utils/                       # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ config.py                # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ captcha_ocr.py           # éªŒè¯ç  OCR
â”‚   â”œâ”€â”€ screen_capture.py        # å±å¹•æˆªå›¾
â”‚   â”œâ”€â”€ table_text_handel.py     # è¡¨æ ¼æ–‡æœ¬å¤„ç†
â”‚   â””â”€â”€ logger.py                # æ—¥å¿—é…ç½®
â””â”€â”€ assets/                      # èµ„æºæ–‡ä»¶
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|----------|------|
| API æ¡†æ¶ | FastAPI | é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶ |
| GUI è‡ªåŠ¨åŒ– | pywinauto | Windows GUI è‡ªåŠ¨åŒ– |
| æ—¥å¿— | structlog | ç»“æ„åŒ–æ—¥å¿— |
| HTTP å®¢æˆ·ç«¯ | httpx | ç°ä»£å¼‚æ­¥ HTTP å®¢æˆ·ç«¯ |
| æ•°æ®éªŒè¯ | Pydantic | ç±»å‹å®‰å…¨çš„æ•°æ®éªŒè¯ |
| é…ç½®ç®¡ç† | TOML | äººç±»å¯è¯»çš„é…ç½®æ ¼å¼ |

## å¿«é€Ÿå¼€å§‹

> **å‰ç½®è¦æ±‚**
>
> ä½¿ç”¨ EasyTHS å‰ï¼Œè¯·ç¡®ä¿ï¼š
>
> 1. å·²å®‰è£…åŒèŠ±é¡ºè¿œèˆªç‰ˆå®¢æˆ·ç«¯ - [å‰å¾€ä¸‹è½½](https://download.10jqka.com.cn/)
> 2. å·²æŒ‰ç…§ [åŒèŠ±é¡ºå®¢æˆ·ç«¯é…ç½®](getting-started/ths-client.md) å®Œæˆè®¾ç½®
> 3. åŒèŠ±é¡ºå®¢æˆ·ç«¯æ­£åœ¨è¿è¡Œä¸­
>
> å¦åˆ™ EasyTHS å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚

```bash
# å®‰è£…
pip install easyths

# å¯åŠ¨æœåŠ¡
easyths
```

## å‘½ä»¤è¡Œå‚æ•°

EasyTHS æ”¯æŒä»¥ä¸‹å‘½ä»¤è¡Œå‚æ•°ï¼š

| å‚æ•° | è¯´æ˜ |
|------|------|
| `--exe_path <path>` | æŒ‡å®šåŒèŠ±é¡ºäº¤æ˜“ç¨‹åºè·¯å¾„ï¼ˆä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶ï¼‰ |
| `--config <file>` | æŒ‡å®š TOML é…ç½®æ–‡ä»¶è·¯å¾„ |
| `--get_config` | å°†ç¤ºä¾‹é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°å½“å‰ç›®å½• |
| `--help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®å¯åŠ¨ï¼ˆè‡ªåŠ¨æ£€æµ‹åŒèŠ±é¡ºè¿œèˆªç‰ˆï¼‰
easyths

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å¯åŠ¨
easyths --config my_config.toml

# æŒ‡å®šäº¤æ˜“ç¨‹åºè·¯å¾„å¯åŠ¨ï¼ˆå…è´¹ç‰ˆæˆ–å…¶ä»–ç‰ˆæœ¬ï¼‰
easyths --exe_path "C:/åŒèŠ±é¡º/xiadan.exe"

# ç”Ÿæˆç¤ºä¾‹é…ç½®æ–‡ä»¶
easyths --get_config

# ç»„åˆä½¿ç”¨
easyths --config my_config.toml --exe_path "C:/åŒèŠ±é¡º/xiadan.exe"
```

## æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](getting-started/index.md)
- [åŸºç¡€ç”¨æ³•](getting-started/basic-usage.md)
- [API æ–‡æ¡£](getting-started/api.md)
- [å¸¸è§é—®é¢˜](getting-started/faq.md)

## è®¸å¯è¯

MIT License
